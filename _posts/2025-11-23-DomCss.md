---
layout: post
title: "DOMイベント操作～JavaScriptでCSSを操作する方法"
date: 2025-11-23
categories: [JavaScript / DOM]  
permalink: /JavaScript-DOM/  
---

# 「JavaScript で CSS を操作する方法  
CSSファイルを直接変えるのではなく  
JavaScript はこの DOM にアクセスして  
要素を取得し、クラスを追加し、style セットして見た目を変える
つまり、**DOMに対してCSSの適用状態を変える**  

JavaScript でやるのは：
① クラス名を付け替える（ほとんどコレ）  
② style プロパティで直接 CSS を当てる（あまり使われないが必要な時は使う）

例えばこういう時に使う：  
- ボタンをクリック → メニュー表示  
- スクロールしたら → ヘッダーが縮む  
- 文字を入力したら → 送信ボタンが有効化  
- ダークモード切り替えスイッチ  
- タブ切り替え UI  

---
document.addEventListener：ページ全体にイベントを仕込む  
querySelector / getElementById：DOMから操作したい要素を見つける  
className / classList系：見た目用のクラスを追加・削除・切り替え  
if / else：条件によって処理を変える  
alert：簡単なメッセージ表示  
---

## document.addEventListener()  
ページ全体（document）に対して、イベントを登録するためのメソッド  
例：ページが読み込まれた時や、ページ内どこかをクリックした時などに処理を実行できる  
```
document.addEventListener('DOMContentLoaded', () => {
  console.log('HTMLの読み込み完了！');
});

document.addEventListener('click', () => {
  console.log('どこかがクリックされた');
});
```

## element.className      
要素の class 属性を、文字列として丸ごと 取得・上書きするプロパティ  
- 読み取り： "btn primary" みたいな文字列が取れる  
- 書き込み：それまでのクラスを全部上書きしてしまう点に注意  
```
const box = document.querySelector('.box');
console.log(box.className); // "box active" など

box.className = 'box hidden'; // クラスを全部この文字列に置き換える
```

## document.querySelector()      
指定した CSSセレクタにマッチする要素を「最初の1つだけ」取ってくる  
.class や #id、div p などCSSと同じ書き方でOK  
見つからなければ null を返す  
```
const title = document.querySelector('#title');   // id="title"
const item  = document.querySelector('.item');    // class="item" の最初の1つ
const link  = document.querySelector('nav a');    // <nav> 内の <a> の最初
```

## document.getElementById()      
指定した id を持つ要素を1つだけ取得  
引数は id名だけ（#は付けない）
```
const main = document.getElementById('main'); // id="main"
```

## element.classList.add()      
要素に新しいクラス名を「追加」  
```
const box = document.querySelector('.box');
box.classList.add('active');
// class="box active"
```

## element.classList.remove()      
要素から指定したクラス名を「削除」する
```
box.classList.remove('active');
// active が消える → class="box"
```

## element.classList.toggle()      
クラスが なければ追加、あれば削除 する「スイッチ」みたいなメソッド  
メニューの開閉とかでとてもよく使う
```
button.addEventListener('click', () => {
  menu.classList.toggle('open');
});
// open クラスが付いたり消えたり
```

## element.classList.contains()　　    
要素が そのクラスを持っているかどうか を true / false で返す　　
```
if (menu.classList.contains('open')) {
  console.log('開いている状態です');
}
```

## element.classList.replace()　　    
あるクラス名を、別のクラス名に 置き換える  
```
box.classList.replace('small', 'large');
// class="box large" に変わる（small → large）
```

## if文      
条件によって 処理を分ける ための基本構文
```
if (条件式) {
  // 条件が true のときの処理
}
```

## else節      
if の条件が false のとき に実行する処理を書く部分  
```
if (条件式) {
  // trueの場合
} else {
  // falseの場合
}
```

## alert()      
画面にポップアップでメッセージを表示する（OKボタンだけの小さいダイアログ）
```
alert('送信が完了しました！');
```
